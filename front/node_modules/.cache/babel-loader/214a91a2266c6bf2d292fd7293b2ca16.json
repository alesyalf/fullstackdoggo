{"ast":null,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar React = require('react');\n\nvar linkEl;\n\nfunction drawIcon(src, num, cb) {\n  var img = document.createElement('img');\n\n  img.onload = function () {\n    var canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    var context = canvas.getContext('2d');\n    context.clearRect(0, 0, img.width, img.height);\n    context.drawImage(img, 0, 0);\n    var top = img.height - 9,\n        left = img.width - 7 - 1,\n        bottom = 16,\n        right = 16,\n        radius = 2;\n    context.fillStyle = '#F03D25';\n    context.strokeStyle = '#F03D25';\n    context.lineWidth = 1;\n    context.beginPath();\n    context.moveTo(left + radius, top);\n    context.quadraticCurveTo(left, top, left, top + radius);\n    context.lineTo(left, bottom - radius);\n    context.quadraticCurveTo(left, bottom, left + radius, bottom);\n    context.lineTo(right - radius, bottom);\n    context.quadraticCurveTo(right, bottom, right, bottom - radius);\n    context.lineTo(right, top + radius);\n    context.quadraticCurveTo(right, top, right - radius, top);\n    context.closePath();\n    context.fill();\n    context.font = 'bold 10px arial';\n    context.fillStyle = '#FFF';\n    context.textAlign = 'right';\n    context.textBaseline = 'top';\n    context.fillText(num, 15, 6);\n    cb(null, context.canvas.toDataURL());\n  };\n\n  img.src = src;\n}\n\nvar Favicon = function (_React$Component) {\n  _inherits(Favicon, _React$Component);\n\n  function Favicon() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Favicon);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Favicon.__proto__ || Object.getPrototypeOf(Favicon)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      animationIndex: 0,\n      animationLoop: null,\n      animationRunning: false\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Favicon, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      Favicon.mountedInstances.push(this);\n      Favicon.update();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var activeInstance = Favicon.getActiveInstance();\n      clearInterval(activeInstance.state.animationLoop);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.url === this.props.url && prevProps.animated === this.props.animated && prevProps.alertCount === this.props.alertCount && prevProps.keepIconLink === this.props.keepIconLink) return;\n      Favicon.update();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'getActiveInstance',\n    value: function getActiveInstance() {\n      return Favicon.mountedInstances[Favicon.mountedInstances.length - 1];\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      if (typeof document === 'undefined') return;\n      var activeInstance = Favicon.getActiveInstance();\n\n      if (typeof linkEl === 'undefined') {\n        var head = document.getElementsByTagName('head')[0];\n        linkEl = document.createElement('link');\n        linkEl.type = 'image/x-icon';\n        linkEl.rel = 'icon'; // remove existing favicons\n\n        var links = head.getElementsByTagName(\"link\");\n\n        for (var i = links.length; --i >= 0;) {\n          if (/\\bicon\\b/i.test(links[i].getAttribute(\"rel\")) && !activeInstance.props.keepIconLink(links[i])) {\n            head.removeChild(links[i]);\n          }\n        }\n\n        head.appendChild(linkEl);\n      }\n\n      var currentUrl;\n\n      if (activeInstance.props.url instanceof Array) {\n        currentUrl = activeInstance.props.url[activeInstance.state.animationIndex];\n      } else {\n        currentUrl = activeInstance.props.url;\n      }\n\n      if (activeInstance.props.alertCount) {\n        drawIcon(currentUrl, activeInstance.props.alertCount, function (err, url) {\n          linkEl.href = url;\n        });\n      } else {\n        linkEl.href = currentUrl;\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      if (typeof document === 'undefined') return;\n      var activeInstance = Favicon.getActiveInstance();\n      var isAnimated = activeInstance.props.url instanceof Array && activeInstance.props.animated; // clear any running animations\n\n      var intervalId = null;\n      clearInterval(activeInstance.state.animationLoop);\n\n      if (isAnimated) {\n        var animateFavicon = function animateFavicon() {\n          var nextAnimationIndex = (activeInstance.state.animationIndex + 1) % activeInstance.props.url.length;\n          Favicon.draw();\n          activeInstance.setState({\n            animationIndex: nextAnimationIndex\n          });\n        };\n\n        intervalId = setInterval(animateFavicon, activeInstance.props.animationDelay);\n        animateFavicon();\n      } else {\n        Favicon.draw();\n      }\n\n      activeInstance.setState({\n        animationLoop: intervalId\n      });\n    }\n  }]);\n\n  return Favicon;\n}(React.Component);\n\nFavicon.displayName = 'Favicon';\nFavicon.defaultProps = {\n  alertCount: null,\n  animated: true,\n  animationDelay: 500,\n  keepIconLink: function keepIconLink() {\n    return false;\n  }\n};\nFavicon.mountedInstances = [];\nmodule.exports = Favicon;","map":{"version":3,"sources":["/home/alesya/fullstack_project/front/node_modules/react-favicon/dist/react-favicon.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","require","linkEl","drawIcon","src","num","cb","img","document","createElement","onload","canvas","width","height","context","getContext","clearRect","drawImage","top","left","bottom","right","radius","fillStyle","strokeStyle","lineWidth","beginPath","moveTo","quadraticCurveTo","lineTo","closePath","fill","font","textAlign","textBaseline","fillText","toDataURL","Favicon","_React$Component","_ref","_temp","_this","_ret","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","state","animationIndex","animationLoop","animationRunning","componentDidMount","mountedInstances","push","update","componentWillUnmount","activeInstance","getActiveInstance","clearInterval","componentDidUpdate","prevProps","url","animated","alertCount","keepIconLink","render","draw","head","getElementsByTagName","type","rel","links","test","getAttribute","removeChild","appendChild","currentUrl","err","href","isAnimated","intervalId","animateFavicon","nextAnimationIndex","setState","setInterval","animationDelay","Component","displayName","defaultProps","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar linkEl;\n\nfunction drawIcon(src, num, cb) {\n  var img = document.createElement('img');\n  img.onload = function () {\n    var canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n\n    var context = canvas.getContext('2d');\n    context.clearRect(0, 0, img.width, img.height);\n    context.drawImage(img, 0, 0);\n\n    var top = img.height - 9,\n        left = img.width - 7 - 1,\n        bottom = 16,\n        right = 16,\n        radius = 2;\n\n    context.fillStyle = '#F03D25';\n    context.strokeStyle = '#F03D25';\n    context.lineWidth = 1;\n\n    context.beginPath();\n    context.moveTo(left + radius, top);\n    context.quadraticCurveTo(left, top, left, top + radius);\n    context.lineTo(left, bottom - radius);\n    context.quadraticCurveTo(left, bottom, left + radius, bottom);\n    context.lineTo(right - radius, bottom);\n    context.quadraticCurveTo(right, bottom, right, bottom - radius);\n    context.lineTo(right, top + radius);\n    context.quadraticCurveTo(right, top, right - radius, top);\n    context.closePath();\n    context.fill();\n\n    context.font = 'bold 10px arial';\n    context.fillStyle = '#FFF';\n    context.textAlign = 'right';\n    context.textBaseline = 'top';\n    context.fillText(num, 15, 6);\n\n    cb(null, context.canvas.toDataURL());\n  };\n  img.src = src;\n}\n\nvar Favicon = function (_React$Component) {\n  _inherits(Favicon, _React$Component);\n\n  function Favicon() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Favicon);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Favicon.__proto__ || Object.getPrototypeOf(Favicon)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      animationIndex: 0,\n      animationLoop: null,\n      animationRunning: false\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Favicon, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      Favicon.mountedInstances.push(this);\n      Favicon.update();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var activeInstance = Favicon.getActiveInstance();\n      clearInterval(activeInstance.state.animationLoop);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.url === this.props.url && prevProps.animated === this.props.animated && prevProps.alertCount === this.props.alertCount && prevProps.keepIconLink === this.props.keepIconLink) return;\n\n      Favicon.update();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }], [{\n    key: 'getActiveInstance',\n    value: function getActiveInstance() {\n      return Favicon.mountedInstances[Favicon.mountedInstances.length - 1];\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      if (typeof document === 'undefined') return;\n\n      var activeInstance = Favicon.getActiveInstance();\n      if (typeof linkEl === 'undefined') {\n        var head = document.getElementsByTagName('head')[0];\n        linkEl = document.createElement('link');\n        linkEl.type = 'image/x-icon';\n        linkEl.rel = 'icon';\n\n        // remove existing favicons\n        var links = head.getElementsByTagName(\"link\");\n        for (var i = links.length; --i >= 0;) {\n          if (/\\bicon\\b/i.test(links[i].getAttribute(\"rel\")) && !activeInstance.props.keepIconLink(links[i])) {\n            head.removeChild(links[i]);\n          }\n        }\n\n        head.appendChild(linkEl);\n      }\n\n      var currentUrl;\n\n      if (activeInstance.props.url instanceof Array) {\n        currentUrl = activeInstance.props.url[activeInstance.state.animationIndex];\n      } else {\n        currentUrl = activeInstance.props.url;\n      }\n\n      if (activeInstance.props.alertCount) {\n        drawIcon(currentUrl, activeInstance.props.alertCount, function (err, url) {\n          linkEl.href = url;\n        });\n      } else {\n        linkEl.href = currentUrl;\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      if (typeof document === 'undefined') return;\n\n      var activeInstance = Favicon.getActiveInstance();\n      var isAnimated = activeInstance.props.url instanceof Array && activeInstance.props.animated;\n\n      // clear any running animations\n      var intervalId = null;\n      clearInterval(activeInstance.state.animationLoop);\n\n      if (isAnimated) {\n        var animateFavicon = function animateFavicon() {\n          var nextAnimationIndex = (activeInstance.state.animationIndex + 1) % activeInstance.props.url.length;\n          Favicon.draw();\n          activeInstance.setState({ animationIndex: nextAnimationIndex });\n        };\n        intervalId = setInterval(animateFavicon, activeInstance.props.animationDelay);\n        animateFavicon();\n      } else {\n        Favicon.draw();\n      }\n\n      activeInstance.setState({ animationLoop: intervalId });\n    }\n  }]);\n\n  return Favicon;\n}(React.Component);\n\nFavicon.displayName = 'Favicon';\nFavicon.defaultProps = {\n  alertCount: null,\n  animated: true,\n  animationDelay: 500,\n  keepIconLink: function keepIconLink() {\n    return false;\n  }\n};\nFavicon.mountedInstances = [];\n\n\nmodule.exports = Favicon;\n\n"]},"metadata":{},"sourceType":"script"}